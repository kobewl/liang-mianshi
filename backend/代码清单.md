# ä»£ç ç”Ÿæˆæ¸…å•

## ğŸ“¦ ä¾èµ–ç®¡ç†

### pom.xml
- âœ… ç§»é™¤äº† Spring Data JPA ä¾èµ–
- âœ… æ·»åŠ äº† Knife4j ä¾èµ–ï¼ˆ4.3.0ï¼‰
- âœ… æ·»åŠ äº† Hutool å·¥å…·ç±»åº“ï¼ˆ5.8.23ï¼‰
- âœ… ä¿ç•™äº† MyBatis-Plusï¼ˆ3.5.14ï¼‰
- âœ… ä¿ç•™äº† Lombokã€JWT ç­‰å…¶ä»–ä¾èµ–

## ğŸ—‚ï¸ å®ä½“ç±»ï¼ˆEntityï¼‰

| æ–‡ä»¶ | è¯´æ˜ | ç‰¹æ€§ |
|------|------|------|
| `User.java` | ç”¨æˆ·å®ä½“ | @TableLogic, @TableField(fill) |
| `Question.java` | é¢˜ç›®å®ä½“ | @TableLogic, @TableField(fill) |
| `QuestionBank.java` | é¢˜åº“å®ä½“ | @TableLogic, @TableField(fill) |
| `QuestionBankQuestion.java` | é¢˜åº“é¢˜ç›®å…³è”å®ä½“ | @TableField(fill) |

**å®ä½“ç±»ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ `@TableName` æŒ‡å®šè¡¨å
- ä½¿ç”¨ `@TableId(type = IdType.AUTO)` ä¸»é”®è‡ªå¢
- ä½¿ç”¨ `@TableLogic` å®ç°é€»è¾‘åˆ é™¤
- ä½¿ç”¨ `@TableField(fill = FieldFill.INSERT)` è‡ªåŠ¨å¡«å……åˆ›å»ºæ—¶é—´
- ä½¿ç”¨ `@TableField(fill = FieldFill.INSERT_UPDATE)` è‡ªåŠ¨å¡«å……æ›´æ–°æ—¶é—´

## ğŸ—ºï¸ Mapper æ¥å£

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `UserMapper.java` | ç”¨æˆ·æ•°æ®è®¿é—®å±‚ |
| `QuestionMapper.java` | é¢˜ç›®æ•°æ®è®¿é—®å±‚ |
| `QuestionBankMapper.java` | é¢˜åº“æ•°æ®è®¿é—®å±‚ |
| `QuestionBankQuestionMapper.java` | é¢˜åº“é¢˜ç›®å…³è”æ•°æ®è®¿é—®å±‚ |

**Mapper ç‰¹ç‚¹ï¼š**
- ç»§æ‰¿ `BaseMapper<T>` è·å¾—åŸºç¡€ CRUD æ–¹æ³•
- ä½¿ç”¨ `@Mapper` æ³¨è§£æ ‡è¯†
- æ— éœ€ç¼–å†™ XML é…ç½®æ–‡ä»¶ï¼ˆç®€å•æŸ¥è¯¢ï¼‰

## ğŸ”§ Service æœåŠ¡å±‚

### Service æ¥å£
| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `UserService.java` | ç”¨æˆ·æœåŠ¡æ¥å£ |
| `QuestionService.java` | é¢˜ç›®æœåŠ¡æ¥å£ |
| `QuestionBankService.java` | é¢˜åº“æœåŠ¡æ¥å£ |
| `QuestionBankQuestionService.java` | é¢˜åº“é¢˜ç›®å…³è”æœåŠ¡æ¥å£ |

### Service å®ç°ç±»
| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `UserServiceImpl.java` | ç”¨æˆ·æœåŠ¡å®ç° |
| `QuestionServiceImpl.java` | é¢˜ç›®æœåŠ¡å®ç° |
| `QuestionBankServiceImpl.java` | é¢˜åº“æœåŠ¡å®ç° |
| `QuestionBankQuestionServiceImpl.java` | é¢˜åº“é¢˜ç›®å…³è”æœåŠ¡å®ç° |

**Service ç‰¹ç‚¹ï¼š**
- æ¥å£ç»§æ‰¿ `IService<T>` è·å¾—ä¸°å¯Œçš„æœåŠ¡æ–¹æ³•
- å®ç°ç±»ç»§æ‰¿ `ServiceImpl<Mapper, Entity>`
- ä½¿ç”¨ `@Service` æ³¨è§£æ ‡è¯†

## ğŸ“ DTO æ•°æ®ä¼ è¾“å¯¹è±¡

| æ–‡ä»¶ | è¯´æ˜ | æ ¡éªŒè§„åˆ™ |
|------|------|----------|
| `UserDTO.java` | ç”¨æˆ·è¯·æ±‚å¯¹è±¡ | @NotBlank(è´¦å·ã€å¯†ç ) |
| `QuestionDTO.java` | é¢˜ç›®è¯·æ±‚å¯¹è±¡ | @NotBlank(æ ‡é¢˜) |
| `QuestionBankDTO.java` | é¢˜åº“è¯·æ±‚å¯¹è±¡ | @NotBlank(æ ‡é¢˜) |
| `QuestionBankQuestionDTO.java` | é¢˜åº“é¢˜ç›®å…³è”è¯·æ±‚å¯¹è±¡ | @NotNull(é¢˜åº“IDã€é¢˜ç›®ID) |

**DTO ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ Jakarta Validation è¿›è¡Œå‚æ•°æ ¡éªŒ
- ä½¿ç”¨ Swagger æ³¨è§£ `@Schema` ç”Ÿæˆ API æ–‡æ¡£
- ä¸åŒ…å«æ•æ„Ÿå­—æ®µï¼ˆå¦‚å¯†ç åœ¨ VO ä¸­éšè—ï¼‰

## ğŸ‘ï¸ VO è§†å›¾å¯¹è±¡

| æ–‡ä»¶ | è¯´æ˜ | ç‰¹ç‚¹ |
|------|------|------|
| `UserVO.java` | ç”¨æˆ·å“åº”å¯¹è±¡ | ä¸åŒ…å«å¯†ç  |
| `QuestionVO.java` | é¢˜ç›®å“åº”å¯¹è±¡ | åŒ…å«å®Œæ•´ä¿¡æ¯ |
| `QuestionBankVO.java` | é¢˜åº“å“åº”å¯¹è±¡ | åŒ…å«å®Œæ•´ä¿¡æ¯ |

**VO ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ `@JsonFormat` æ ¼å¼åŒ–æ—¶é—´å­—æ®µ
- ä½¿ç”¨ `@Schema` æ³¨è§£ç”Ÿæˆ API æ–‡æ¡£
- è¿‡æ»¤æ•æ„Ÿå­—æ®µ

## ğŸ® Controller æ§åˆ¶å™¨

| æ–‡ä»¶ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `UserController.java` | `/api/user` | ç”¨æˆ·ç®¡ç†æ¥å£ |
| `QuestionController.java` | `/api/question` | é¢˜ç›®ç®¡ç†æ¥å£ |
| `QuestionBankController.java` | `/api/question-bank` | é¢˜åº“ç®¡ç†æ¥å£ |
| `QuestionBankQuestionController.java` | `/api/question-bank-question` | é¢˜åº“é¢˜ç›®å…³è”æ¥å£ |

**Controller ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ `@Tag` æ³¨è§£åˆ†ç»„
- ä½¿ç”¨ `@Operation` æ³¨è§£è¯´æ˜æ¥å£
- ä½¿ç”¨ `@Parameter` æ³¨è§£è¯´æ˜å‚æ•°
- ä½¿ç”¨ `@Valid` å¼€å¯å‚æ•°æ ¡éªŒ
- ä½¿ç”¨ `@RequiredArgsConstructor` æ³¨å…¥ä¾èµ–
- ç»Ÿä¸€ä½¿ç”¨ `ApiResponse<T>` å°è£…å“åº”

### æ¯ä¸ª Controller æä¾›çš„æ¥å£ï¼š
1. **POST /** - åˆ›å»ºèµ„æº
2. **PUT /{id}** - æ›´æ–°èµ„æº
3. **DELETE /{id}** - åˆ é™¤èµ„æºï¼ˆé€»è¾‘åˆ é™¤ï¼‰
4. **GET /{id}** - è·å–è¯¦æƒ…
5. **GET /page** - åˆ†é¡µæŸ¥è¯¢

## âš™ï¸ é…ç½®ç±»

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `Knife4jConfig.java` | Knife4j/OpenAPI é…ç½® |
| `MybatisPlusConfig.java` | MyBatis-Plus é…ç½®ï¼ˆåˆ†é¡µã€è‡ªåŠ¨å¡«å……ï¼‰ |
| `CorsConfig.java` | è·¨åŸŸé…ç½®ï¼ˆå·²å­˜åœ¨ï¼‰ |

**MybatisPlusConfig åŠŸèƒ½ï¼š**
1. åˆ†é¡µæ’ä»¶é…ç½®
2. è‡ªåŠ¨å¡«å…… createTimeã€updateTimeã€editTime

## ğŸ“„ é…ç½®æ–‡ä»¶

### application.yml
- âœ… ç§»é™¤äº† JPA é…ç½®
- âœ… æ·»åŠ äº† MyBatis-Plus é…ç½®
  - é©¼å³°å‘½åè½¬æ¢
  - æ—¥å¿—è¾“å‡º
  - é€»è¾‘åˆ é™¤é…ç½®
- âœ… æ·»åŠ äº† Knife4j é…ç½®
  - OpenAPI æ–‡æ¡£è·¯å¾„
  - Swagger UI è·¯å¾„
  - ä¸­æ–‡ç•Œé¢

## ğŸ“‹ å…¶ä»–æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `BackendApplication.java` | ä¸»å¯åŠ¨ç±»ï¼Œæ·»åŠ äº† @MapperScan |
| `BackendApplicationTests.java` | æµ‹è¯•ç±» |
| `APIè¯´æ˜.md` | è¯¦ç»†çš„ API ä½¿ç”¨æ–‡æ¡£ |
| `å¿«é€Ÿå¼€å§‹.md` | å¿«é€Ÿå¯åŠ¨æŒ‡å— |
| `ä»£ç æ¸…å•.md` | æœ¬æ–‡ä»¶ |

## ğŸ¯ MyBatis-Plus ç®€åŒ–ç‚¹

### 1. Mapper å±‚ç®€åŒ–
**ä¼ ç»Ÿæ–¹å¼ï¼š**
```java
@Mapper
public interface UserMapper {
    int insert(User user);
    int updateById(User user);
    int deleteById(Long id);
    User selectById(Long id);
    List<User> selectList();
}
```

**MyBatis-Plus æ–¹å¼ï¼š**
```java
@Mapper
public interface UserMapper extends BaseMapper<User> {
    // ç»§æ‰¿å³æ‹¥æœ‰æ‰€æœ‰åŸºç¡€æ–¹æ³•ï¼Œæ— éœ€ç¼–å†™
}
```

### 2. Service å±‚ç®€åŒ–
**ä¼ ç»Ÿæ–¹å¼ï¼š**
```java
@Service
public class UserServiceImpl implements UserService {
    @Autowired
    private UserMapper userMapper;
    
    public boolean save(User user) {
        return userMapper.insert(user) > 0;
    }
    // ... æ›´å¤šæ–¹æ³•
}
```

**MyBatis-Plus æ–¹å¼ï¼š**
```java
@Service
public class UserServiceImpl extends ServiceImpl<UserMapper, User> implements UserService {
    // ç»§æ‰¿å³æ‹¥æœ‰ä¸°å¯Œçš„æœåŠ¡æ–¹æ³•ï¼Œæ— éœ€ç¼–å†™
}
```

### 3. åˆ†é¡µæŸ¥è¯¢ç®€åŒ–
**ä¼ ç»Ÿæ–¹å¼ï¼š**
```java
PageHelper.startPage(pageNum, pageSize);
List<User> list = userMapper.selectList();
PageInfo<User> pageInfo = new PageInfo<>(list);
```

**MyBatis-Plus æ–¹å¼ï¼š**
```java
Page<User> page = userService.page(new Page<>(current, size), queryWrapper);
```

### 4. é€»è¾‘åˆ é™¤ç®€åŒ–
**ä¼ ç»Ÿæ–¹å¼ï¼š**
```java
user.setIsDelete(1);
userMapper.updateById(user);
```

**MyBatis-Plus æ–¹å¼ï¼š**
```java
userService.removeById(id);  // è‡ªåŠ¨å°† isDelete è®¾ç½®ä¸º 1
```

### 5. æ¡ä»¶æŸ¥è¯¢ç®€åŒ–
**ä¼ ç»Ÿæ–¹å¼ï¼š**
```xml
<select id="selectByCondition">
    SELECT * FROM user WHERE 1=1
    <if test="name != null">AND name = #{name}</if>
    <if test="age != null">AND age = #{age}</if>
</select>
```

**MyBatis-Plus æ–¹å¼ï¼š**
```java
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.eq("name", name).eq("age", age);
List<User> list = userService.list(wrapper);

// æˆ–ä½¿ç”¨ Lambda æ–¹å¼ï¼ˆç±»å‹å®‰å…¨ï¼‰
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.eq(User::getName, name).eq(User::getAge, age);
```

## ğŸ“Š ä»£ç ç»Ÿè®¡

- **å®ä½“ç±»**: 4 ä¸ª
- **Mapper æ¥å£**: 4 ä¸ª
- **Service æ¥å£**: 4 ä¸ª
- **Service å®ç°ç±»**: 4 ä¸ª
- **DTO ç±»**: 4 ä¸ª
- **VO ç±»**: 3 ä¸ªï¼ˆUserVO, QuestionVO, QuestionBankVOï¼‰
- **Controller ç±»**: 4 ä¸ª
- **é…ç½®ç±»**: 3 ä¸ª
- **æ€»è®¡**: çº¦ 30 ä¸ª Java æ–‡ä»¶

## âœ¨ ä»£ç è´¨é‡ä¿éšœ

- âœ… æ‰€æœ‰ç±»éƒ½æœ‰è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
- âœ… æ‰€æœ‰å­—æ®µéƒ½æœ‰ JavaDoc è¯´æ˜
- âœ… ç»Ÿä¸€ä½¿ç”¨ Lombok å‡å°‘æ ·æ¿ä»£ç 
- âœ… ä½¿ç”¨ Hutool å·¥å…·ç±»è¿›è¡Œ Bean è½¬æ¢
- âœ… å‚æ•°æ ¡éªŒæ³¨è§£å®Œæ•´
- âœ… API æ–‡æ¡£æ³¨è§£å®Œæ•´
- âœ… æ—  Linter é”™è¯¯

## ğŸš€ å¿«é€Ÿä½¿ç”¨

1. å¯åŠ¨é¡¹ç›®
2. è®¿é—® http://localhost:8184/doc.html
3. åœ¨ Knife4j ç•Œé¢ä¸­å¯ä»¥ç›´æ¥æµ‹è¯•æ‰€æœ‰æ¥å£
4. æ— éœ€ Postman ç­‰å·¥å…·


